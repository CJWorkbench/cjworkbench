<header>
  <h1>III. Scrape a table from a web pageâ€‹</h1>
  <p>Load and store HTML tables using the page URL and position</p>
  <img src="./banner.svg" alt="">
</header>
<section>
  <h2>Overview</h2>
  <p>In this tutorial you will learn how to scrape HTML tables that are not available for download, using their URLs and position on the page. </p>
</section>
<section>
  <h2>1. Load an HTML table</h2>
  <p>Let's scrape the dataset <a href="https://en.wikipedia.org/wiki/Global_Gender_Gap_Report" class="highlight" target="_blank">Global Gender Gap Index rankings</a>, published and documented on Wikipedia.</p>
  <h3 class="instructions">Instructions</h3>
  <ol class="steps">
    <li
      data-highlight='[{"type":"Module","index":0,"name":"Scrape table"}]'
      data-test="return workflow.tabs[0].wfModuleNames[0] === 'Scrape table'"
      >Add the data source 'Scrape table'
    </li>
    <li
      data-highlight='[{"type":"WfModule","moduleName":"Scrape table"}]'
      data-test="const url = workflow.tabs[0].wfModules[0].params.url; return url === 'https://en.wikipedia.org/wiki/Global_Gender_Gap_Report' || url === 'https://en.wikipedia.org/wiki/List_of_countries_by_GDP_(nominal)'"
      >Paste in the URL of the webpage where the table is published:
      <div class="copy-txt">https://en.wikipedia.org/wiki/Global_Gender_Gap_Report</div>
      <p class="instruction-detail">There are multiple tables displayed on the page. The one we want to scrape is <code>WEF Global Gender Gap Index rankings</code>, which is the third one from the top.</p>
    </li>
    <li
      data-highlight='[{"type":"WfModule","moduleName":"Scrape table"}]'
      data-test="return workflow.tabs[0].wfModules[0].params.tablenum === 3"
      >Set the table's position on the page to <code>3</code>, and click <kbd>Scrape</kbd>
      <p class="instruction-detail">Once loaded, the data is saved as a version in the scraper. It will stay accessible even if the webpage with the original table goes offline.</p>
    </li>
  </ol>
</section>
<section>
  <h2>2. Clean double header rows</h2>
  <p>The <a href="https://en.wikipedia.org/wiki/Global_Gender_Gap_Report" class="highlight" target="_blank">original table</a> has two header rows nested in each other:</p>
  <figure>
    <img alt="Inspect element" src="./double_header.png">
  </figure>
  <p>When scraping an HTML table, Workbench collapses all header rows into a single header by concatenating content in each column.</p>
  <h3 class="instructions">Instructions</h3>
  <p>Rename the column's header to be legible</p>
  <ol class="steps">
    <li
      data-highlight='[]'
      data-test="return workflow.tabs[0].wfModuleNames[1] === 'Rename columns'"
      >Click one column name in the header of the table to give it a legible name.
      <p>For example: Edit <code>Year[note 1] - 2006</code> into <code>2006</code>.</p>
    </li>
  </ol>
</section>
<footer>
  <h2>Lesson complete!</h2>
  <div class="completed">
    <p class="summary"> You scraped your first HTML tables!</p>
  </div>
  <div class="next">
    <h4>Continue learning:</h4>
    <ol>
      <li><a href="/lessons/clean-and-standardize/">Clean and standardize data</a></li>
      <li><a href="/lessons/clean-and-standardize/">Scrape a webpage to extract or monitor content</a></li>
    </ol>
  </div>
</footer>
