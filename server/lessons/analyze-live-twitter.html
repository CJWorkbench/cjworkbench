<header>
  <h1>IV. Analyze live data from Twitter</h1>
  <p>Load data from the Twitter API, set an alert and build a live chart</p>
  <img src="/static/images/lesson_banners/twitter_alert.svg">
</header>
<section>
  <h2>COMING SOON</h2>
  <p></p>
</section>
<section>
<h2>1. Loading Tweets from a user account</h2>
<p>We'll start by loading the 200 most recent tweets from a user. </p>
<p>Why 200? Because of the limit of the <a href='https://developer.twitter.com/en/docs/basics/rate-limiting.html' target="_blank" className="backToLessons info-1">Twitter API</a>. However the module will capture all future tweets from our user.</p>

<ol class="steps">
  <li
    data-highlight='[{"type":"ModuleSearch"},{"type":"MlModule","name":"Twitter"}]'
    data-test="return workflow.wfModules[0] && workflow.wfModules[0].moduleName === 'Twitter'"
    >Add the module 'Twitter'.
  </li>
  <li
    data-highlight='[{"type":"WfModule","moduleName":"Twitter"}]',
    data-test="return workflow.wfModules[1].parameters.get('colnames') === 'User tweets'"
  > Select 'User tweets' in the first drop down, and paste in the following user name.
  <div class="copy-txt content-3 t-white">realdonaldtrump</div>
  Click 'Update' to load the tweets.
  </li>
</ol>
</section>
<section>
<h2>2. Filtering tweets for content</h2>
<p>Let's filter and group the tweets to find out how often a specific word is used.</p>
<ol class="steps">
  <li
    data-highlight='[{"type":"ModuleSearch"},{"type":"MlModule","name":"Filter"}]'
    data-test="return workflow.wfModules[0] && workflow.wfModules[0].moduleName === 'Twitter'"
    >Add the module 'Filter'.

  </li>
  <li
    data-highlight='[{"type":"WfModule","moduleName":"Twitter"}]',
    data-test="return workflow.wfModules[1].parameters.get('colnames') === 'User tweets'"
  > Choose the column 'Text', select 'Text contains' as a condition and seach for 'Russia'.
  <p class="lesson-note">Let's group the resulting rows by day.</p>
  </li>
  <li
    data-highlight='[{"type":"WfModule","moduleName":"Group by date"}]',
    data-test="return workflow.wfModules[1].parameters.get('colnames') === 'User tweets'"
  > Add the module 'Group by date'.
  </li>
  <li
    data-highlight='[{"type":"WfModule","moduleName":"Twitter"}]',
    data-test="return workflow.wfModules[1].parameters.get('colnames') === 'User tweets'"
  > Choose 'created_at' as the date column, and group rows by day.
  </li>
</ol>
</section>
<section>
<h2>3. Visualizing tweets on a timeline.</h2>
<p class="lesson-note">We can now visualize our result by using a simple column chart.</p>
<ol class="steps">
  <li
    data-highlight='[{"type":"WfModule","moduleName":"Twitter"}]',
    data-test="return workflow.wfModules[1].parameters.get('colnames') === 'User tweets'"
  > Add the module 'Column Chart'.
  <p class="lesson-note">Next, let's make this chart update when new tweets are published.</p>
  </li>
</ol>
</section>
<section>
<h2>4. Automatic updates</h2>
<p class="lesson-note">Let's set the entire workflow to update when new tweets are published.</p>
<ol class="steps">
  <li
    data-highlight='[{"type":"WfModule","moduleName":"Twitter"}]',
    data-test="return workflow.wfModules[1].parameters.get('colnames') === 'User tweets'"
  >Click on 'manual' in the Twitter module to open the Workflow Settings window.
  </li>
  <li
    data-highlight='[{"type":"WfModule","moduleName":"Twitter"}]',
    data-test="return workflow.wfModules[1].parameters.get('colnames') === 'User tweets'"
  >Turn  the feature 'On', set the frequency to '5 hours' and click 'Apply'.
  </li>
  <li
    data-highlight='[{"type":"WfModule","moduleName":"Twitter"}]',
    data-test="return workflow.wfModules[1].parameters.get('colnames') === 'User tweets'"
  >Make sure that the option 'Accumulate tweets' is checked, so that the new data gets appended to the existing table.
  <p class="lesson-note">Your worfklow is now live! If new tweets are published, all the modules will update to reflect changes in the data.</p>
  </li>
</ol>
</section>
