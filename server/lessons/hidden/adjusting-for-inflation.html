<header>
  <h1>Comparing numbers<h1>
</header>

<section class="fullscreen">
  <h2>Introduction</h2>
  <p>
    Inflation is the rate of increase in prices over a given period of time. Historical dollar amounts cannot be directly compared with dollars today, because all prices slowly change over time.
  </p>
  <p>
    In this lesson, we’ll learn how to compare amounts from different years using Consumer Price Index (CPI) data from the Bureau of Labor Statistics.
    We will adjust teacher salaries dating back from 1969 in order to get a good appreciation of salary trends.
  </p>
</section>

<!-- Section 1 -->

<script id="initialWorkflow" type="application/json">
  {
    "tabs": [
      {
        "name": "Salaries",
        "wfModules": [
          {
            "module":"loadurl",
            "params": {
              "url":"http://production-static.workbenchdata.com/data/intro-data-j/teacher-salaries.xlsx"
            }
          }
        ]
      },
      {
        "name": "CPI data",
        "wfModules": [
          {
            "module":"loadurl",
            "params": {
              "url":"http://production-static.workbenchdata.com/data/intro-data-j/CPI-bureau-of-labor-statistic.xlsx"
            }
          }
        ]
      }
    ]
  }
</script>

<section>
  <h2>Data</h2>
  <p>
    The table in the tab <kbd>Salaries</kbd> was prepared using data published by the National Center for Education Statistics, <a class="highlight" href='https://nces.ed.gov/' target="_blank" className="info-1">here</a>.
  </p>
  <p>
    It shows the average annual salaries of teachers in U.S. public elementary and secondary schools between 1969 and 2016.
    Those numbers are in ‘Current dollars’, which means not adjusted for inflation. Let’s convert them in today’s dollars.
  </p>
  <p>
    To do this we need a measure of inflation. Every month the Bureau of Labor statistics surveys the prices of hundreds of consumer items to produce a number known as the 'Consumer Price Index' or CPI. The tab <kbd>CPI data</kbd> contains this data, published <a class="highlight" href='https://data.bls.gov/timeseries/CUUR0000SA0/' target="_blank" className="info-1">here</a>.
  </p>
  <h3 class="instructions">Instructions</h3>
  <ol class="steps">
    <li
      data-highlight='[{"type":"Module","index":0,"name":"Add from URL"}]'
      data-test="return workflow.tabs[0].wfModuleNames[0] === 'Add from URL'"
      >What does each row represent?
    </li>
    <li
      data-highlight='[{"type":"Module","index":0,"name":"Add from URL"}]'
      data-test="return workflow.tabs[0].wfModuleNames[0] === 'Add from URL'"
      >What's in each column?
    </li>
    <li
      data-highlight='[{"type":"Module","index":0,"name":"Add from URL"}]'
      data-test="return workflow.tabs[0].wfModuleNames[0] === 'Add from URL'"
      >Are there any columns, values or codes you don't understand?
    </li>
    <li
      data-highlight='[{"type":"Module","index":0,"name":"Add from URL"}]'
      data-test="return workflow.tabs[0].wfModuleNames[0] === 'Add from URL'"
      >Are there missing or obviously wrong values?
    </li>
    <li
      data-highlight='[]'
      data-test="return workflow.tabs[0].wfModuleNames[0] === 'Add from URL'"
      >Does the data need to be cleaned?
    </li>
  </ol>
</section>
<section>
  <h2>Cleaning</h2>
  <p>
    Both original spreadsheets contain one or several rows of notes before the actual data, which means we don’t get proper column names.<br>
    Let’s also fix types, and remove anything we don’t need.
  </p>
  <h3 class="instructions">Instructions</h3>
  <ol class="steps">
    <li
      data-highlight='[{"type":"Module","index":0,"name":"Add from URL"}]'
      data-test="return workflow.tabs[0].wfModuleNames[0] === 'Add from URL'"
      >In the <Kbd>Salaries</kbd> tab, select row 1 which contain the real header values, by clicking on the row number.
    </li>
    <li
      data-highlight='[{"type":"Module","index":0,"name":"Add from URL"}]'
      data-test="return workflow.tabs[0].wfModuleNames[0] === 'Add from URL'"
      >Choose <kbd>Move rows to table header</kbd> from the action menu above the table, where it says "1 row selected".
      <p class='instruction-detail'>
        Because it contained both text and numeric data, the column <kbd>Average salary</kbd> was loaded as text. We need to convert it to numbers to use it in calculations.
      </p>
    </li>
    <li
      data-highlight='[{"type":"Module","index":0,"name":"Add from URL"}]'
      data-test="return workflow.tabs[0].wfModuleNames[0] === 'Add from URL'"
      >Choose <kbd>Convert to Numbers</kbd> from the <kbd>Average salary</kbd> column menu.
      <span>
        <img class="icon-insert" src="images/lesson-icons/menu.svg">
      </span>.
    </li>
    <li
      data-highlight='[{"type":"Module","index":0,"name":"Add from URL"}]'
      data-test="return workflow.tabs[0].wfModuleNames[0] === 'Add from URL'"
      >In the <Kbd>CPI data</kbd> tab, select row 11 which contains the column names, and move that row to the header as well.
    </li>
    <li
      data-highlight='[{"type":"Module","index":0,"name":"Add from URL"}]'
      data-test="return workflow.tabs[0].wfModuleNames[0] === 'Add from URL'"
      >Still in that tab, add <kbd>Select Columns</kbd> and only keep the columns <kbd>Year</kbd> and <kbd>Annual</kbd>.

    </li>
    <li
      data-highlight='[{"type":"Module","index":0,"name":"Add from URL"}]'
      data-test="return workflow.tabs[0].wfModuleNames[0] === 'Add from URL'"
      >Choose <kbd>Convert to Numbers</kbd> from the <kbd>Annual</kbd> column menu
      <span>
        <img class="icon-insert" src="images/lesson-icons/menu.svg">
      </span>.
    </li>
  </ol>
</section>
<section class="fullscreen">
  <h2>Using CPI</h2>
  <p>
     In order to convert a current dollar amount (old) into an adjusted dollar amount (present), we need to divide the current dollar amount by the CPI for that year (CPI1), then multiply it by the CPI for the present year (CPI2).<br>
    <div class="copy-txt">adjusted=(current/CPI1)*CPI2</div>
    To do this, we need to get the CPI index into the same tab as the teacher salary data. We can do this by “joining” these tabs.
  </p>
</section>
<section class="fullscreen">
  <h2>Introduction to joinning tables</h2>
  <p>
    Joins are used to augment the information contained in one table with the data contained in another table.<br>
    Two tables can be joined when they both have at least one column sharing identical values.<br>
    Tab 1 and 2 below share the column <kbd>First name</kbd>. Each table contain one other column of data associated with the values in <kbd>First name</kbd>.
    <figure class="three-quarter-width">
      <img alt="Inspect element" src="images/course-1/join-example-1.png">
    </figure>
    When joinning Tab 1 and Tab 2 on <kbd>First name</kbd>, values in that column are matched, and corresponding values from the other tab are appended.
    <figure class="half-width">
      <img alt="Inspect element" src="images/course-1/join-example-2.png">
    </figure>
    Joins typically helps uncover insight by bringing two sources of information together, and is essential to many stories. A famous one joins school bus drivers with convicted felons.
  </p>
</section>
<section>
  <h2>Joining tables</h2>
  <p>
    Since both tables have a year variable, we’ll join using the Year.
  </p>
  <h3 class="instructions">Instructions</h3>
  <ol class="steps">
    <li
      data-highlight='[{"type":"Module","index":0,"name":"Add from URL"}]'
      data-test="return workflow.tabs[0].wfModuleNames[0] === 'Add from URL'"
      >Switch back to the <kbd>Salaries</kbd> tab and add a <kbd>Join tab</kbd> step.
    </li>
    <li
      data-highlight='[{"type":"Module","index":0,"name":"Add from URL"}]'
      data-test="return workflow.tabs[0].wfModuleNames[0] === 'Add from URL'"
      >Select the <kbd>CPI tab</kbd> to join with, and the <kbd>year</kbd> column to join on.
      <p class=instruction-detail>
        The Join module takes each value in the <kbd>Year</kbd> column of the Teacher salaries’ table and finds the corresponding row in the CPI table.
      </p>
    </li>
  </ol>
</section>
<section>
  <h2>Using CPI</h2>
  <p>
    The formula for converting a current dollar amount into an adjusted dollar amount is:
    <div class="copy-txt">adjusted=(current/CPI1)*CPI2</div>
    In other words: <br>
    In other words, we want to divide each row by its joined CPI value, then multiply all values by the CPI for reference year (the year adjusted for), sometimes called the “reference” year. In this case the reference is 2016, which has as a CPI of <kbd>240.007</kbd>.
  </p>
  <h3 class="instructions">Instructions</h3>
  <ol class="steps">
    <li
      data-highlight='[{"type":"Module","index":0,"name":"Add from URL"}]'
      data-test="return workflow.tabs[0].wfModuleNames[0] === 'Add from URL'"
      >Add Formula and type in:
      <div class="copy-txt">=(C1/D1)*240.007</div>
      <p class="instruction-detail">
        Dollar values which are adjusted for inflation are also called “real” dollars, while non-adjusted one are sometime called “nominal.” We can see that the salaries of teachers in U.S. public elementary and secondary schools decreased from 2009 to 2016, in real dollar terms.
      </p>
    </li>
  </ol>
</section>
<footer>
  <h2>Lesson Complete!</h2>
  <div class="completed">
    <p class="summary"> Next, we’ll look at resources and wrap up this first course!
    </p>
  </div>
  <div class="next">
    <h2>Next</h2>
    <ol>
      <li>
        <a href="/lessons/resources-intro-data-j">Resources and inspiration to do more</a></a>
      </li>
    </ol>
  </div>
</footer>
