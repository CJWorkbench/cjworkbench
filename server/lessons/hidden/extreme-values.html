<header>
  <h1>Extreme and average values<h1>
</header>

<section class="fullscreen">
  <h2>Welcome!</h2>
  <p>Many stories are based on minimum or maximum values. This is the idea behind questions such as: What is the most expensive item in the budget? Which city is the safest? Which school has the best test scores?
  </p>
  <p>In this lesson you’ll learn how to use Calculate and sorting to find the largest and smallest values in your data.
  </p>
</section>

<!-- Section 1 -->

<script id="initialWorkflow" type="application/json">
  {
    "tabs": [
      {
        "name": "Lesson",
        "wfModules": [
          {
            "module":"loadurl",
            "params": {
              "url":"https://raw.githubusercontent.com/pierreconti/Data/master/international-CO2-emission.csv"
            }
          }
        ]
      }
    ]
  }
</script>

<section>
  <h2>Data</h2>
  <p>Let’s ask our<a class="highlight" href='https://www.eia.gov/beta/international/data/browser/#/?pa=00000000000000000000000000000000000000000000000000000001&c=ruvvvvvfvtvnvv1urvvvvfvvvvvvfvvvou20evvvvvvvvvnvvuvs&ct=0&tl_id=40-A&vs=INTL.4008-8-AFG-MMTCD.A&cy=2014&vo=0&v=C&end=2016' target="_blank" className="info-1"> international C02 data </a>a different question: <br>
    What is the most each country has emitted in any year?.
</p>
  <h3 class="instructions">Instructions</h3>
  <p class="instruction-detail">Take a look at this dataset and answer these questions for yourself</p>
  <ol class="steps">
    <li
      data-highlight='[{"type":"Module","index":0,"name":"Add from URL"}]'
      data-test="return workflow.tabs[0].wfModuleNames[0] === 'Add from URL'"
      >Add the step <kbd>Calculate</kbd>
    </li>
    <li
      data-highlight='[{"type":"Module","index":0,"name":"Add from URL"}]'
      data-test="return workflow.tabs[0].wfModuleNames[0] === 'Add from URL'"
      >Set the operation to <kbd>Maximum</kbd>
    </li>
    <li
      data-highlight='[{"type":"Module","index":0,"name":"Add from URL"}]'
      data-test="return workflow.tabs[0].wfModuleNames[0] === 'Add from URL'"
      >Select all available years columns and name the output ‘Maximum 2000/16'
      <p class="instruction-detail">
        This calculates the maximum across rows, so that you can read off the maximum for each country.
      </p>
      <p class="instruction-detail">
        Because CO2 emissions are generally rising, the maximum is often, but not always, the most recent year of data.
      </p>
    </li>

  </ol>
</section>
<section>
  <h2>Sorting</h2>
  <p>
    Calculate finds extreme values in rows. To find extreme values in a column, you can simply sort the table.
  </p>
  <p>
    Let's ask our data: Which country emitted the most ever in a single year?
  </p>

  <h3 class="instructions">Instructions</h3>
  <p class="instruction-detail">First, let's make our table easier to navigate.</p>
  <ol class="steps">
    <li
      data-highlight='[{"type":"Module","index":0,"name":"Add from URL"}]'
      data-test="return workflow.tabs[0].wfModuleNames[0] === 'Add from URL'"
      >In step 4, add <kbd>Select columns</kbd>. Keep the columns <kbd>Country</kbd>, <kbd>Continent</kbd> and <kbd>Maximum 2000/16</kbd>.
    </li>
    <li
      data-highlight='[{"type":"Module","index":0,"name":"Add from URL"}]'
      data-test="return workflow.tabs[0].wfModuleNames[0] === 'Add from URL'"
      >Using the column menu, sort <kbd>Maximum 2000/16</kbd> in descending order.
      <p class="instruction-detail">Note that a <kbd>Sort</kbd> step has been added to the workflow. Every operation in Workbench adds a step, records your work, lets you change setting, and keeps everything reproducible.</p>
      <p class="instruction-detail">
        The country who has emitted the most C02 on average since 2000 is:
      </p>
      <div class="copy-txt">
        =(Value 1+Value 2+...+Value N) / N
      </div>
    </li>
  </ol>
</section>
<section>
  <h2>Sorting by multiple columns</h2>
  <p>
    On each continent, which country is the largest CO2 emitter? To find out, we need to sort first by Continent, then by Country
  </p>
  <h3 class="instructions">Instructions</h3>
  <ol class="steps">
    <li
      data-highlight='[{"type":"Module","index":0,"name":"Add from URL"}]'
      data-test="return workflow.tabs[0].wfModuleNames[0] === 'Add from URL'"
      >In step 7, edit the existing setting to sort by <kbd>Continent</kbd>
    </li>
    <li
      data-highlight='[{"type":"Module","index":0,"name":"Add from URL"}]'
      data-test="return workflow.tabs[0].wfModuleNames[0] === 'Add from URL'"
      >Add a secondary sort by clicking +ADD, and this time sort by Country, in descending order.
    </li>
    <li
      data-highlight='[{"type":"Module","index":0,"name":"Add from URL"}]'
      data-test="return workflow.tabs[0].wfModuleNames[0] === 'Add from URL'"
      >Keep top ‘1 row’, under the second sort.
    </li>
  </ol>
</section>
<footer>
  <h2>Lesson Complete!</h2>
  <div class="completed">
    <p class="summary"> Next, let's visualize this data.</p>
  </div>
  <div class="next">
    <h2>Next lesson</h2>
    <ol>
      <li>
        <a href="/lessons/charts-intro/">Columns and line charts</a>
      </li>
    </ol>
  </div>
</footer>
