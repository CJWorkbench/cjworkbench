<header>
  <h1>Long and wide format<h1>
</header>

<section class="fullscreen">
  <h2>Introduction</h2>
  <p>
    Data can be organized into tables in different ways. In this lesson, you will learn to recognize “long” and “wide” formats and convert between them, which is called <kbd>reshaping</kbd>. This is similar to transposing, but not the same.
  </p>
</section>
<script id="initialWorkflow" type="application/json">
  {
    "tabs": [
      {
        "name": "Lesson",
        "wfModules": [
          {
            "module":"loadurl",
            "params": {
              "url":"https://raw.githubusercontent.com/pierreconti/Data/master/NYC-DATA-long format.csv"
            }
          }
        ]
      },
      {
        "name": "Data dictionary",
        "wfModules": [
          {
            "module":"loadurl",
            "params": {
              "url":"https://raw.githubusercontent.com/pierreconti/Data/master/NYPD_Complaint_YTD_DataDictionary.csv"
            }
          }
        ]
      }
    ]
  }
</script>

<section class="fullscreen">
  <h2>Long format</h2>
  <p>
    Long format have two properties:
    - There is only one column with measured values, in this case the “Count of incidents” column. All other columns, in this case “Complaint date” and “Borough” are variables that describe what is measured.
    - Each row is a now unique combination of variables, in this case Each date from the column "Complaint date" is combined with each available borough from the column "Borough".
  </p>
  <figure class="full">
    <img class="no-border" alt="Inspect element" src="images/course-1/long-table.png">
  </figure>
</section>
<section class="fullscreen">
  <h2>Wide format</h2>
  <p>
    Wide formats are the commonly found table format. In a wide format, there are one or more columns that identify what each row of data refers to, in this case “Complaint date.” These columns are called “row variables.”<br>
    All remaining columns contain measurements. The column names of those columns are the "column variable", in this case each borough.
  </p>
  <figure class="full">
    <img class="no-border" alt="Inspect element" src="images/course-1/wide-table.png">
  </figure>
</section>
<section>
  <h2>Converting to wide format</h2>
  <p>
    For this data, our goal is to  to visualize the volume of incidents reported in each borough, for each week. Because Workbench charts plot columns, each borough must be in its own column, with the rows corresponding to dates.
  </p>
  <h3 class="instructions">Instructions</h3>
  <ol class="steps">
    <li
      data-highlight='[{"type":"Module","index":0,"name":"Add from URL"}]'
      data-test="return workflow.tabs[0].wfModuleNames[0] === 'Add from URL'"
      >Add ‘Reshape’, and select <kbd>Long to wide</kbd>.
    </li>
    <li
      data-highlight='[{"type":"Module","index":0,"name":"Add from URL"}]'
      data-test="return workflow.tabs[0].wfModuleNames[0] === 'Add from URL'"
      >Select <kbd>date</kbd> as the Row variable.
    </li>
    <li
      data-highlight='[{"type":"Module","index":0,"name":"Add from URL"}]'
      data-test="return workflow.tabs[0].wfModuleNames[0] === 'Add from URL'"
      >Select <kbd>Borough</kbd>for the Column variable.
    </li>
  </ol>
</section>
<section>
  <h2>Visualizing</h2>
  <p>
    Finally, we’re ready to visualize our grouped police incident data. Let’s visually compare the volume of  reported police incidents  in each borough, for each week, using a line chart.
  </p>
  <ol class="steps">
    <li
      data-highlight='[{"type":"Module","index":0,"name":"Add from URL"}]'
      data-test="return workflow.tabs[0].wfModuleNames[0] === 'Add from URL'"
      >Add a line chart.
    </li>
    <li
      data-highlight='[{"type":"Module","index":0,"name":"Add from URL"}]'
      data-test="return workflow.tabs[0].wfModuleNames[0] === 'Add from URL'"
      >Choose <kbd>Complaint</kbd> for the X axis.
    </li>
    <li
      data-highlight='[{"type":"Module","index":0,"name":"Add from URL"}]'
      data-test="return workflow.tabs[0].wfModuleNames[0] === 'Add from URL'"
      >Add one Y axis for each Borough you want to compare.
      <p class="instruction-detail">
        In this chart we’re comparing volumes of incidents between boroughs with very different populations. In the next lesson, we’ll look at how to compare ‘per capita’.
      </p>
    </li>
  </ol>
</section>
<footer>
  <h2>Lesson Complete!</h2>
  <div class="completed">
    <p class="summary">In this chart we’re comparing volumes of incidents between boroughs with very different population size.In the next lesson, we’ll look at how to compare ‘per capita'.</p>
  </div>
  <div class="next">
    <h2>Next lesson</h2>
    <ol>
      <li>
        <a href="/lessons/per-capita/">Per capita</a>
      </li>
    </ol>
  </div>
</footer>
